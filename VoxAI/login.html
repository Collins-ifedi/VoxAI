<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Voxaroid - Login</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        'chat-dark': '#343541',
                        'chat-darker': '#202123'
                    }
                }
            }
        }
    </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/css/intlTelInput.css">
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-chat-darker dark:to-chat-dark min-h-screen flex items-center justify-center">
    <div class="bg-white dark:bg-chat-dark rounded-lg shadow-xl p-8 w-full max-w-md">
        <div id="authContainer">
    <!-- Login Form -->
    <form id="loginForm" class="space-y-6">
        <div class="text-center mb-8">
            <div class="inline-flex items-center justify-center w-16 h-16 mb-4">
                <svg viewBox="0 0 80 80" class="w-full h-full">
    <!-- Artistic V and X combined logo -->
    <defs>
        <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#8b5cf6;stop-opacity:1" />
            <stop offset="50%" style="stop-color:#06b6d4;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#10b981;stop-opacity:1" />
        </linearGradient>
        <filter id="glow">
            <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
            <feMerge> 
                <feMergeNode in="coloredBlur"/>
                <feMergeNode in="SourceGraphic"/>
            </feMerge>
        </filter>
    </defs>
    
    <!-- V shape (left side) -->
    <path d="M15 20 L25 50 L35 20" 
          fill="none" stroke="url(#logoGradient)" stroke-width="4" 
          stroke-linecap="round" stroke-linejoin="round" 
          filter="url(#glow)" class="drop-shadow-lg"/>
    
    <!-- X shape (right side) -->
    <path d="M45 20 L65 50 M65 20 L45 50" 
          fill="none" stroke="url(#logoGradient)" stroke-width="4" 
          stroke-linecap="round" filter="url(#glow)" class="drop-shadow-lg"/>
    
    <!-- Decorative elements -->
    <circle cx="25" cy="15" r="2" fill="url(#logoGradient)" class="animate-pulse"/>
    <circle cx="55" cy="15" r="2" fill="url(#logoGradient)" class="animate-pulse"/>
    <circle cx="40" cy="60" r="3" fill="url(#logoGradient)" opacity="0.7"/>
    
    <!-- Connecting arc -->
    <path d="M35 35 Q40 30, 45 35" 
          fill="none" stroke="url(#logoGradient)" stroke-width="2" 
          opacity="0.6" stroke-linecap="round"/>
</svg>
            </div>
            <h1 class="text-2xl font-bold text-gray-900 dark:text-white">Voxaroid</h1>
            <p class="text-gray-600 dark:text-gray-400 mt-2">Sign in to Voxaroid</p>
        </div>

        <div>
            <label for="loginUsername" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                Username
            </label>
            <input 
                type="text" 
                id="loginUsername" 
                name="username"
                required
                class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-chat-darker dark:text-white"
                placeholder="Enter your username"
            >
        </div>

        <div>
            <label for="loginPassword" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                Password
            </label>
            <input 
                type="password" 
                id="loginPassword" 
                name="password"
                required
                class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-chat-darker dark:text-white"
                placeholder="Enter your password"
            >
        </div>

        <button 
            type="submit" 
            class="w-full bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"
        >
            Sign In
        </button>

        <!-- Social Login Options -->
        <div class="mt-6">
            <div class="relative">
                <div class="absolute inset-0 flex items-center">
                    <div class="w-full border-t border-gray-300 dark:border-gray-600"></div>
                </div>
                <div class="relative flex justify-center text-sm">
                    <span class="px-2 bg-white dark:bg-chat-dark text-gray-500">Or continue with</span>
                </div>
            </div>

            <div class="mt-6 grid grid-cols-2 gap-3">
                <button
                    type="button"
                    id="googleLogin"
                    class="w-full inline-flex justify-center py-2 px-4 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-chat-darker text-sm font-medium text-gray-500 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"
                >
                    <svg class="w-5 h-5" viewBox="0 0 24 24">
                        <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                        <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                        <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                        <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                    </svg>
                    <span class="ml-2">Google</span>
                </button>

                <button
                    type="button"
                    id="appleLogin"
                    class="w-full inline-flex justify-center py-2 px-4 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-chat-darker text-sm font-medium text-gray-500 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"
                >
                    <svg class="w-5 h-5" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"/>
                    </svg>
                    <span class="ml-2">Apple</span>
                </button>
            </div>
        </div>

        <div class="text-center">
            <button type="button" id="showSignup" class="text-blue-500 hover:text-blue-600 text-sm">
                Don't have an account? Sign up
            </button>
        </div>

        <div class="text-center">
            <button type="button" id="guestLogin" class="text-blue-500 hover:text-blue-600 text-sm">
                Continue as Guest
            </button>
        </div>
    </form>

    <!-- Signup Form -->
    <form id="signupForm" class="space-y-6 hidden">
        <div class="text-center mb-8">
            <div class="inline-flex items-center justify-center w-16 h-16 mb-4">
                <svg viewBox="0 0 80 80" class="w-full h-full">
                    <path d="M15 25 Q15 15, 25 15 L35 15 Q45 15, 45 25 L45 35 Q45 45, 35 45 L25 45" 
                          fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round" class="text-gray-900 dark:text-white"/>
                    
                    <path d="M35 35 Q45 35, 45 25 Q45 15, 55 15 Q65 15, 65 25 L65 35 Q65 45, 55 45 Q45 45, 45 55 Q45 65, 55 65 Q65 65, 65 55" 
                          fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round" class="text-gray-900 dark:text-white"/>
                    
                    <circle cx="20" cy="20" r="2" fill="currentColor" class="text-blue-500"/>
                    <circle cx="60" cy="60" r="2" fill="currentColor" class="text-blue-500"/>
                    <path d="M25 55 L30 60 L25 65" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-blue-500"/>
                </svg>
            </div>
            <h1 class="text-2xl font-bold text-gray-900 dark:text-white">Create Account</h1>
            <p class="text-gray-600 dark:text-gray-400 mt-2">Join Voxaroid today</p>
        </div>

        <div>
            <label for="signupUsername" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                Username
            </label>
            <input 
                type="text" 
                id="signupUsername" 
                name="username"
                required
                class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-chat-darker dark:text-white"
                placeholder="Choose a username"
            >
        </div>

        <div>
            <label for="signupEmail" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                Email Address
            </label>
            <input 
                type="email" 
                id="signupEmail" 
                name="email"
                required
                class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-chat-darker dark:text-white"
                placeholder="Enter your email"
            >
        </div>

        <div>
            <label for="signupPhone" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                Phone Number (Optional)
            </label>
            <input 
                type="tel" 
                id="signupPhone" 
                name="phone"
                class="w-full"
                placeholder="Enter your phone number"
            >
        </div>

        <div>
            <label for="signupPassword" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                Password
            </label>
            <input 
                type="password" 
                id="signupPassword" 
                name="password"
                required
                minlength="6"
                class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-chat-darker dark:text-white"
                placeholder="Create a password (min 6 characters)"
            >
        </div>

        <div>
            <label for="confirmPassword" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                Confirm Password
            </label>
            <input 
                type="password" 
                id="confirmPassword" 
                name="confirmPassword"
                required
                class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-chat-darker dark:text-white"
                placeholder="Confirm your password"
            >
        </div>

        <button 
            type="submit" 
            class="w-full bg-green-500 text-white py-2 px-4 rounded-lg hover:bg-green-600 transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2"
        >
            Create Account
        </button>

        <div class="text-center">
            <button type="button" id="showLogin" class="text-blue-500 hover:text-blue-600 text-sm">
                Already have an account? Sign in
            </button>
        </div>
    </form>

    <!-- Email Verification Form -->
    <div id="emailVerificationForm" class="hidden">
        <div class="text-center mb-8">
            <i class="fas fa-envelope text-4xl text-green-500 mb-4"></i>
            <h1 class="text-2xl font-bold text-gray-900 dark:text-white">Verify Your Email</h1>
            <p class="text-gray-600 dark:text-gray-400 mt-2">
                We've sent a verification code to <span id="verificationEmail" class="font-semibold"></span>
            </p>
        </div>

        <form id="emailVerifyForm" class="space-y-6">
            <div>
                <label for="emailCode" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                    Verification Code
                </label>
                <input 
                    type="text" 
                    id="emailCode" 
                    name="code"
                    required
                    maxlength="6"
                    class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 dark:bg-chat-darker dark:text-white text-center text-2xl tracking-widest"
                    placeholder="000000"
                >
            </div>

            <button 
                type="submit" 
                class="w-full bg-green-500 text-white py-2 px-4 rounded-lg hover:bg-green-600 transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2"
            >
                Verify Email
            </button>

            <div class="text-center space-y-2">
                <button type="button" id="resendEmailCode" class="text-blue-500 hover:text-blue-600 text-sm">
                    Resend Code
                </button>
                <div>
                    <span class="text-sm text-gray-500">Code expires in </span>
                    <span id="emailTimer" class="text-sm font-semibold text-red-500">05:00</span>
                </div>
            </div>
        </form>
    </div>

    <!-- Phone Verification Form -->
    <div id="phoneVerificationForm" class="hidden">
        <div class="text-center mb-8">
            <i class="fas fa-mobile-alt text-4xl text-blue-500 mb-4"></i>
            <h1 class="text-2xl font-bold text-gray-900 dark:text-white">Verify Your Phone</h1>
            <p class="text-gray-600 dark:text-gray-400 mt-2">
                We've sent a verification code to <span id="verificationPhone" class="font-semibold"></span>
            </p>
        </div>

        <form id="phoneVerifyForm" class="space-y-6">
            <div>
                <label for="phoneCode" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                    Verification Code
                </label>
                <input 
                    type="text" 
                    id="phoneCode" 
                    name="code"
                    required
                    maxlength="6"
                    class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-chat-darker dark:text-white text-center text-2xl tracking-widest"
                    placeholder="000000"
                >
            </div>

            <button 
                type="submit" 
                class="w-full bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"
            >
                Verify Phone
            </button>

            <div class="text-center space-y-2">
                <button type="button" id="resendPhoneCode" class="text-blue-500 hover:text-blue-600 text-sm">
                    Resend Code
                </button>
                <button type="button" id="skipPhoneVerification" class="block text-gray-500 hover:text-gray-700 text-sm">
                    Skip Phone Verification
                </button>
                <div>
                    <span class="text-sm text-gray-500">Code expires in </span>
                    <span id="phoneTimer" class="text-sm font-semibold text-red-500">05:00</span>
                </div>
            </div>
        </form>
    </div>
</div>

        <div class="mt-8 text-center">
            <button id="themeToggleLogin" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">
                <i class="fas fa-moon dark:hidden"></i>
                <i class="fas fa-sun hidden dark:inline"></i>
            </button>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/intlTelInput.min.js"></script>
    <script type="module" src="debug-helper.js"></script>
    <script type="module" src="auth.js"></script>

    <!-- Add this script to debug on page load -->
    <script>
    document.addEventListener('DOMContentLoaded', function() {
      console.log('Login page loaded')
      
      // Test if buttons exist
      const buttons = ['googleLogin', 'appleLogin', 'guestLogin', 'showSignup']
      buttons.forEach(id => {
        const btn = document.getElementById(id)
        if (btn) {
          console.log(`✅ ${id} button found`)
          btn.addEventListener('click', () => console.log(`${id} clicked`))
        } else {
          console.log(`❌ ${id} button missing`)
        }
      })
    })
    </script>
</body>
</html>
